<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Security-Policy" content="default-src https://www.googleapis.com https://graph.facebook.com *;font-src 'self' data:; img-src * data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-eval' 'unsafe-inline'; object-src 'self'; media-src *">

    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <meta name="format-detection" content="telephone=no">

    <title>Al Sharq</title>

    <link rel="stylesheet" type="text/css" href="css/ionic.min.css">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="js/libs/angular-material/angular-material.min.css">
    <link rel="stylesheet" type="text/css" href="css/fonts.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>
<!-- on-swipe-right="swipeRight()" on-swipe-left="swipeLeft()" -->
<body app-ready="appReady()" ng-controller="RootController">

    <div id="appContainer">
        <md-progress-linear md-mode="indeterminate" ng-show="isLoading()"></md-progress-linear>

        <!-- header -->
        <md-toolbar class="fixed" ng-class="{home: isHome}">
            <div class="md-toolbar-tools">
                <md-button ng-if="isHome" class="md-icon-button" aria-label="Menu" ng-click="toggleLeft()">
                    <md-icon class="alsharq-menu color-gray"></md-icon>
                </md-button>
                <div ng-if="!isHome" class="logo-header">
                    <md-button class="md-icon-button" aria-label="Back" ng-click="back()">
                        <md-icon class="alsharq-arrow_back color-gray"></md-icon>
                    </md-button>
                    <img src="img/launcher.png" alt="logo">
                </div>
                <h2>
                    <span>{{ pageTitle }}</span>
                </h2>
                
                <span flex></span>
                
                <md-button aria-label="notifications" class="md-icon-button" ng-click="toggleRight()">
                    <md-icon md-menu-origin class="alsharq-more_vert color-gray"></md-icon>
                </md-button>
            </div>
        </md-toolbar>

        <ion-side-menus ng-if="!isAuth">
            <ion-side-menu side="left">
                <div class="page">
                    <div class="info clearfix">
                        <div class="image">
                            <img ng-src="{{ ($user().profile_pic) ? $user().profile_pic.file : 'img/user.png' }}" alt="avatar">
                        </div>
                        <div class="barss clearfix">
                            <div ng-click="logout()">تسجيل الخروج</div>
                            <div ng-click="goToFromLeft('related-accounts')">حساباتي المربوطة</div>
                            <div ng-click="goToFromLeft('profile')">تعديل حسابي</div>
                        </div>
                    </div>

                    <div class="ul">
                        <md-list-item class="list-title">
                            <p> تصفح </p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('websites')">
                            <p> تصفح المواقع اﻷخبارية <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                        <md-list-item class="list-title">
                            <p> خياراتي </p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('my-subscriptions')">
                            <p>اشتراكاتي <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('my-keywords')">
                            <p>كلماتي المفتاحية <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('my-articles/favorite')">
                            <p>مقالاتي المفضلة <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('my-articles/later')">
                            <p>مقالات للقراءه لاحقا <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('my-countries')">
                            <p>الدول المتابعة <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('my-interests')">
                            <p>اهتماماتي <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                        <md-list-item class="list-title">
                            <p> معلومات التطبيق </p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('about')">
                            <p>عن شرق <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                        <md-list-item ng-click="goToFromLeft('contact')">
                            <p>اتصل بنا <i class="alsharq-navigate_before"></i></p>
                        </md-list-item>
                    </div>
                </div>
            </ion-side-menu>
            <ion-side-menu side="right">
                <div class="page">
                    <md-list-item class="list-title" ng-click="goToFromRight('home')">
                        <p> الكل </p>
                    </md-list-item>
                    <md-list-item class="list-title">
                        <p> الدول </p>
                    </md-list-item>
                        <md-list-item class="countries" ng-repeat="country in shortcutSidebarContent.countries"  ng-click="goToCountry(country.name)">
                            <p> {{ country.name }} </p>
                            <i class="md-secondary">{{ country.count }}</i>
                        </md-list-item>

                    <div ng-repeat="website in shortcutSidebarContent.websites"> <!-- this div just wrap for ng-repeat -->
                        <md-list-item class="list-title">
                            <p> {{ website.name }} </p>
                        </md-list-item>
                            <md-list-item ng-repeat="cat in website.categories">
                                <p> {{ cat.name }} </p>
                            </md-list-item>
                    </div>

                    <md-list-item class="list-title" ng-click="goToFeed()">
                        <p> الكلمات المفتاحية </p>
                    </md-list-item>
                        <md-list-item class="keywords" ng-repeat="keyword in shortcutSidebarContent.keywords" class="secondary-button-padding">
                            <p>{{ keyword.name }}</p>
                            <md-checkbox class="md-secondary" ng-model="keyword.feed"></md-checkbox>
                        </md-list-item>


                    <md-list-item class="list-title" ng-click="addKeyword()">
                        <p> اضافة كلمات مفتاحية </p>
                    </md-list-item>
                </div>
            </ion-side-menu>

            <ion-side-menu-content>
                <div ng-view></div>
            </ion-side-menu-content>
        </ion-side-menus>

        <div ng-view ng-if="isAuth"></div>
    </div>

    <!-- Scripts -->

    <!-- cordova generated script -->
    <script type="text/javascript" src="cordova.js"></script>

    <!-- Libs -->
        <!-- Angular with Ionic -->
        <script src="js/libs/angular/ionic.bundle.min.js"></script>
        <!-- Routes -->
        <script src="js/libs/angular-route/angular-route.min.js"></script>
        <!-- Message -> for material -->
        <script src="js/libs/angular-messages/angular-messages.min.js"></script>
        <!-- Aria -> for material -->
        <script src="js/libs/angular-aria/angular-aria.min.js"></script>
        <!-- Animate -> for material -->
        <script src="js/libs/angular-animate/angular-animate.min.js"></script>
        <!-- Material Design -->
        <script src="js/libs/angular-material/angular-material.min.js"></script>
        <!-- OAuth lib -->
        <script src="js/libs/ng-cordova-oauth/dist/ng-cordova-oauth.min.js"></script>
        <!-- ADMOB -->
        <script src="lib/angular-admob/angular-admob.js"></script>

    <!-- init app -->
    <script src="js/App.js"></script>
    <script src="js/utils/Config.js"></script>
    <script src="js/utils/Routes.js"></script>

    <!-- controllers -->
    <script src="js/controllers/AboutController.js"></script>
    <script src="js/controllers/ArticleController.js"></script>
    <script src="js/controllers/AuthController.js"></script>
    <script src="js/controllers/CatsWritersController.js"></script>
    <script src="js/controllers/CommentsController.js"></script>
    <script src="js/controllers/ContactController.js"></script>
    <script src="js/controllers/CountriesController.js"></script>
    <script src="js/controllers/EditSubscriptionController.js"></script>
    <script src="js/controllers/FeedsController.js"></script>
    <script src="js/controllers/HomeController.js"></script>
    <script src="js/controllers/InterestsController.js"></script>
    <script src="js/controllers/LoginController.js"></script>
    <script src="js/controllers/OwnArticlesController.js"></script>
    <script src="js/controllers/OwnCountriesController.js"></script>
    <script src="js/controllers/OwnInterestsController.js"></script>
    <script src="js/controllers/OwnKeywordsController.js"></script>
    <script src="js/controllers/OwnSubscriptionsController.js"></script>
    <script src="js/controllers/ProfileController.js"></script>
    <script src="js/controllers/RegisterController.js"></script>
    <script src="js/controllers/RelatedAccountsController.js"></script>
    <script src="js/controllers/ResetPasswordController.js"></script>
    <script src="js/controllers/RootController.js"></script>
    <script src="js/controllers/WebsitesController.js"></script>

    <!-- factories -->
    <script src="js/factories/ArticleFactory.js"></script>
    <script src="js/factories/AuthFactory.js"></script>
    <script src="js/factories/CommentFactory.js"></script>
    <script src="js/factories/ContactFactory.js"></script>
    <script src="js/factories/CountryFacroty.js"></script>
    <script src="js/factories/FeedFactory.js"></script>
    <script src="js/factories/InterestFactory.js"></script>
    <script src="js/factories/KeywordFactory.js"></script>
    <script src="js/factories/SubscriptionFactory.js"></script>
    <script src="js/factories/WebsiteFactory.js"></script>

    <!-- services -->
    <script src="js/services/AdmobService.js"></script>
    <script src="js/services/PopupService.js"></script>
    <script src="js/services/QueueService.js"></script>
    <script src="js/services/StorageService.js"></script>
    <script src="js/services/TimeService.js"></script>

    <!-- directives -->
    <script src="js/directives/ArticleDirective.js"></script>

    <!-- filters -->
    <script src="js/filters/TimeFormatFilter.js"></script>
    <script src="js/filters/HTMLFilter.js"></script>

    <!-- values -->
    <script src="js/values/Config.js"></script>
    <script src="js/values/testData.js"></script>
    <script src="js/values/API.js"></script>
    <script src="js/values/Title.js"></script>

</body>
</html>
